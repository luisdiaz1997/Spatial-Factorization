# SlideseqV2 with spatial PNMF (SVGP prior, multi-group)

name: slideseq_svgp
seed: 67
dataset: slideseq
output_dir: outputs/slideseq

preprocessing:
  spatial_scale: 50.0
  filter_mt: true
  min_counts: 100
  min_cells: 10

model:
  n_components: 10
  spatial: true
  prior: SVGP
  groups: true                  # Use MGGP (multi-group GP)
  mode: lower-bound
  loadings_mode: multiplicative
  # GP-specific parameters
  kernel: Matern32
  num_inducing: 3000
  lengthscale: 4.0              # From GPzoo config.py: LENGTHSCALE = 4.0
  sigma: 1.0
  group_diff_param: 10.0
  train_lengthscale: false      # Keep kernel fixed
  cholesky_mode: exp
  diagonal_only: false
  inducing_allocation: proportional

training:
  max_iter: 2000
  learning_rate: 1e-1
  optimizer: Adam
  tol: 1e-4
  verbose: false
  device: gpu
  batch_size: 7000
  y_batch_size: 2000
  shuffle: true
